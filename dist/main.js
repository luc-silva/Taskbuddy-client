(()=>{"use strict";const e=function(){document.querySelector("#todo-display").textContent=""};let t={todoArray:[]};class n{constructor(e,t,n,o){this.task=e,this.description=t,this.deadline=n,this.priority=o}dateCreated=new Date;get dateCreated(){return this._dateCreated}get priority(){return this._priority}set priority(e){this._priority=e}get deadline(){return this._deadline}set deadline(e){this._deadline=e}}const o=function(){let e=document.querySelector("#task-title-input"),o=document.querySelector("#task-deadline-input"),a=document.querySelector("#task-description-textarea"),c=document.querySelector("#priority-input");""!=e.value&&""!=o.value?(""==a.value?t.todoArray.push(new n(e.value,"None",o.value,c.value)):t.todoArray.push(new n(e.value,a.value,o.value,c.value)),console.log("ok"),d.removeTaskCreatorPopup()):(console.log("not ok"),d.showRequiredFields()),r(),a.value="",o.value="",e.value=""};let d=function(){let e=document.querySelector("#task-creator-screen"),t=function(){return document.createElement("div")},n=document.querySelector("#popup-background");n.addEventListener("click",(()=>{d()}));let d=function(){n.style.display="none",e.style.display="none"};return{createTodoElement:function(e,n,o){let d=document.createElement("span");d.classList.add("todo-card"),d.setAttribute("data-index",o);let r=t();r.classList.add("card-task"),r.innerHTML=`\n\t\t<div class="card-task-container">\n\t\t\t<input type="checkbox" class="todo-checkbox">\n\n\t\t\t<div>\n\t\t\t\tTask:<h3>${e}</h3>\n\t\t\t</div>\n\t\t</div>\n\t\t`;let a=t();return a.classList.add("todo-card-details"),a.innerHTML=`\n        <div class="right-part">\n\t\t\t<div class="card-dealine">\n\t\t\t\t<strong>Deadline</strong>: ${n}\n\t\t\t</div>\n\n\t\t\t<div class="todo-delete-btn">\n\t\t\t\tDelete\n\t\t\t</div>\n\t\t</div>\n\t\t`,d.append(r,a),d},createTaskContainer:function(){let e=document.createElement("div");return e.id="tasks-container",e},createTaskAddBtn:function(){let r=t();r.id="tasks-button-panel";let a=document.createElement("button");return a.id="add-task-btn",a.textContent="Add task",a.addEventListener("click",(()=>{!function(){let t=document.querySelector("#add-btn"),r=document.querySelector("#close-btn");n.style.display="block",e.style.display="flex",t.addEventListener("click",o),r.addEventListener("click",(()=>{d(),t.removeEventListener("click",o)}))}()})),r.append(a),r},removeTaskCreatorPopup:d,showRequiredFields:function(){let e=document.querySelector("#task-deadline-input"),t=document.querySelector("#task-title-input");t.style.backgroundColor="rgb(245, 213, 213)",t.style.outline="red solid 1px",t.style.color="red",e.style.backgroundColor="rgb(245, 213, 213)",e.style.outline="red solid 1px",e.style.color="red"}}}();function r(){let e=document.querySelector("#todo-display");e.textContent="",e.append(d.createTaskAddBtn());let n=d.createTaskContainer();e.append(n),t.todoArray.forEach(((e,t)=>{n.append(d.createTodoElement(e.task,e.deadline,t))})),document.querySelectorAll(".todo-card").forEach((e=>{let n=e.querySelector(".todo-checkbox");e.addEventListener("click",(o=>{if("todo-delete-btn"==o.target.classList){let n=e.dataset.index,o=t.todoArray,d=[];o.forEach(((e,t)=>{o[t]!=o[n]&&d.push(e)})),t.todoArray=[...d],console.log("Inside function scope ",o)}else 1==n.checked?n.checked=!1:n.checked=!0;console.log("Outside function scope: ",t.todoArray)}))}))}const a=r;document.querySelector("#dashboard-btn"),document.querySelector("#projects-btn").addEventListener("click",e),document.querySelector("#tasks-btn").addEventListener("click",a)})();