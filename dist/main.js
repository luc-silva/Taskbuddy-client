(()=>{"use strict";let t=function(){let t=[],e=[];return{todoArray:t,projectArray:e,completedTasks:function(t){let r=e[t].projectTasks,n=0;return r.forEach((t=>{t.checked&&n++})),n},completedProjects:function(){let t=0;return e.forEach((e=>{"Completed"==e.status&&t++})),t},completedTodo:function(){let e=0;return t.forEach((t=>{t.check&&e++})),e}}}();class e{constructor(e,r,n,o){this.title=e,this.projectTasks=r,this.deadline=n,this.description=o,this.dateCreated=new Date,this.projectId=t.projectArray.length,this.status="Unfinished"}}class r{constructor(t,e,r){this.title=t,this.priority=e,this.checked=r}get checked(){return this._checked}set checked(t){this._checked=t}get title(){return this._title}set title(t){this._title=t}get priority(){return this._priority}set priority(t){this._priority=t}}class n{constructor(t,e,r,n,o){this.title=t,this.description=e,this.deadline=r,this.priority=n,this.check=o}dateCreated=new Date;get dateCreated(){return this._dateCreated}get deadline(){return this._deadline}set deadline(t){this._deadline=t}get priority(){return this._priority}set priority(t){this._priority=t}get check(){return this._check}set check(t){this._check=t}}let o=function(){let e=()=>document.createElement("div");return{createDivElement:e,createDashboard:function(){let r=e();r.id="dashboard-display";let n=e();n.id="dashboard-greetings",n.innerHTML="\n        <h2>Hello there, user</h2>\n        <p>Currently, you have...</p>";let o=e();o.id="dashboard-status-display";let c=e();c.id="dashboard-tasks-completed-display",c.innerHTML=`                     \n        Tasks Completed:\n        <div class="completed-value-container">\n            <div class="completed-value">${t.completedTodo()}</div>\n            <div class="total-value">of ${t.todoArray.length}</div>\n        </div>`;let d=e();return d.id="dashboard-projects-completed-display",d.innerHTML=`\n        Project Completed:\n        <div class="completed-value-container">\n            <div class="completed-value">${t.completedProjects()}</div>\n            <div class="total-value">of ${t.projectArray.length}</div>\n        </div>`,o.append(c,d),r.append(n,o),r}}}();const c=function(){let t=document.querySelectorAll(".dashboard-button"),e=document.querySelector("#dashboard-btn");t.forEach((t=>{t.style.backgroundColor="whitesmoke",t.style.padding="0.5rem 2rem",t.style.color="rgb(50, 50, 50)"})),e.style.backgroundColor="white",e.style.padding="0.5rem 3rem",e.style.color="rgb(100, 175, 225)";let r=document.querySelector("#todo-display");r.textContent="",r.append(o.createDashboard())};let d=function(){let n=()=>document.createElement("div"),o=document.querySelector("#popup-background");function c(){o.style.display="none",document.querySelector("#project-creator").style.display="none",d.removeEventListener("click",h),s.removeEventListener("click",u)}o.addEventListener("click",c);let d=document.querySelector("#create-project-btn"),s=document.querySelector("#project-taskcard-btn"),l=[];function i(){document.querySelector("#project-creator").style.display="flex",o.style.display="block",document.querySelector("#project-title-input").value="",document.querySelector("#project-deadline-input").value="",document.querySelector("#already-added-tasks").textContent="",document.querySelector("#project-description-textarea").value="",document.querySelector("#project-task-card-creator-inpt").value="",l=[],s.addEventListener("click",u),d.addEventListener("click",h)}function u(){let t=document.querySelector("#project-task-card-creator-inpt").value,e=document.querySelector("#project-task-card-creator-select").value;""==t||""==e||y(l,t)||(l.push(new r(t,e,!1)),p(l))}function p(t){let e=document.querySelector("#already-added-tasks");e.textContent="",t.forEach(((t,r)=>{let o=n();o.setAttribute("data-project-task-index",r),o.innerHTML=`\n\t\t\t<strong>${t.title}</strong>\n\t\t\t<div class="project-taskcard-container">\n\t\t\t\t<div>Priority: <strong>${t.priority}</strong></div>\n\t\t\t\t<button class="project-taskcard-delete-btn">Delete</button>\n\t\t\t</div>\n\t\t\t`,o.classList.add("already-added-taskcard","reveal-animation"),o.addEventListener("click",(t=>{if("project-taskcard-delete-btn"==t.target.classList){let t=[],e=o.dataset.projectTaskIndex;l.forEach((r=>{r!=l[e]&&t.push(r)})),l=[...t]}p(l)})),e.append(o)}))}function y(t,e){let r=!1;return t.forEach((t=>{t.title==e&&(r=!0)})),r}function h(){let r=document.querySelector("#project-title-input").value,n=document.querySelector("#project-deadline-input").value,o=document.querySelector("#project-description-textarea").value;""!=n&&""!=r&&l.length>0&&!y(t.projectArray,r)&&(t.projectArray.push(new e(r,[...l],n,o)),a(),c())}return{createProjectContainer:function(e,r,o,c,d,a){let s=n();s.classList.add("project-container","reveal-animation"),s.setAttribute("data-project",d);let l=n();l.classList.add("project-name"),l.innerHTML=`Project: <strong>${e}</strong>`;let i=n();i.classList.add("project-info"),i.innerHTML=`                    \n\t\t<div>\n\t\t\tTasks completed: <strong>${t.completedTasks(d)}/${r.length}</strong>\n\t\t</div>\n\t\t<div>\n\t\t\tDeadline: <strong>${o}</strong> Status: <strong>${a}</strong>\n\t\t</div>`;let u=n();u.append(l,i);let p=n();p.classList.add("project-details"),p.innerHTML=`\n\t\t<strong>Details:</strong> \n\t\t${c}\n\t\t`;let y=n();y.classList.add("project-tasks"),y.append(((t="")=>{let e=document.createElement("strong");return e.textContent=t,e})("Tasks:"));let h=n();return h.classList.add("project-tasks-container"),r.forEach(((t,e)=>{h.append(function(t,e,r,o){let c=n();c.classList.add("project-task-card"),c.setAttribute("data-project-task-index",o);let d=n();d.classList.add("project-task-maininfo"),d.innerHTML=r?`\n\t\t\t<input type="checkbox" checked>\n\t\t\t<div>\n\t\t\t\t<strong>#1:</strong>\n\t\t\t\t<span>${t}</span>\n\t\t\t</div>\n\t\t\t`:`\n\t\t\t<input type="checkbox">\n\t\t\t<div>\n\t\t\t\t<strong>#1:</strong>\n\t\t\t\t<span>${t}</span>\n\t\t\t</div>\n\t\t\t`;let a=n();return a.classList.add("project-task-priority"),a.innerHTML=`\n\t\t<strong>Priority</strong>\n\t\t<span>${e}</span>\n\t\t`,c.append(d,a),c}(t.title,t.priority,t.checked,e))})),y.append(h),s.append(u,p,y),s},createProjectTabAddButton:function(){let t=document.createElement("button");t.addEventListener("click",i),t.id="add-project-btn",t.textContent="Add Project",t.classList.add("action-button");let e=n();return e.id="project-button-panel",e.append(t),e},createDivElement:n}}();function a(){let e=document.querySelectorAll(".dashboard-button"),r=document.querySelector("#projects-btn");e.forEach((t=>{t.style.backgroundColor="whitesmoke",t.style.padding="0.5rem 2rem",t.style.color="rgb(50, 50, 50)"})),r.style.backgroundColor="white",r.style.padding="0.5rem 3rem",r.style.color="rgb(100, 175, 225)";let n=document.querySelector("#todo-display");n.textContent="";let o=d.createProjectTabAddButton(),c=d.createDivElement();c.id="project-display",c.textContent="",t.projectArray.forEach((t=>{c.append(d.createProjectContainer(t.title,t.projectTasks,t.deadline,t.description,t.projectId,t.status))})),n.append(o,c),document.querySelectorAll(".project-container").forEach((e=>{let r=e.dataset.project;e.querySelectorAll(".project-task-card").forEach((e=>{e.addEventListener("click",(()=>{let n=e.dataset.projectTaskIndex,o=e.querySelector("input[type='checkbox']");1==o.checked?(o.checked=!1,t.projectArray[r].projectTasks[n].checked=!1):(o.checked=!0,t.projectArray[r].projectTasks[n].checked=!0),function(e){let r=t.projectArray[e].projectTasks,n=0;r.forEach((t=>{t.checked&&n++})),n==r.length&&(t.projectArray[e].status="Completed")}(r),a()}))}))}))}const s=a,l=function(){let e=document.querySelector("#task-title-input"),r=document.querySelector("#task-deadline-input"),o=document.querySelector("#task-description-textarea"),c=document.querySelector("#priority-input");""==e.value||""==r.value||function(t,e){let r=!1;return t.forEach((t=>{t.title==e&&(r=!0)})),r}(t.todoArray,e.value)?i.showRequiredFields():(""==o.value?t.todoArray.push(new n(e.value,"None",r.value,c.value,!1)):t.todoArray.push(new n(e.value,o.value,r.value,c.value,!1)),i.removeTaskCreatorPopup()),u(),o.value="",r.value="",e.value=""};let i=function(){let t=document.querySelector("#task-creator-screen"),e=function(){return document.createElement("div")},r=document.querySelector("#popup-background");r.addEventListener("click",(()=>{n()}));let n=function(){r.style.display="none",t.style.display="none"};return{createTodoElement:function(t,r,n,o){let c=document.createElement("span");c.classList.add("todo-card","reveal-animation"),c.setAttribute("data-index",o);let d=e();d.classList.add("card-task"),d.innerHTML=n?`\n\t\t\t<div class="card-task-container">\n\t\t\t\t<input type="checkbox" class="todo-checkbox" checked>\n\t\t\t\n\t\t\t\t<div>\n\t\t\t\t\tTask:<h3>${t}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t`:`\n\t\t\t<div class="card-task-container">\n\t\t\t\t<input type="checkbox" class="todo-checkbox">\n\t\n\t\t\t\t<div>\n\t\t\t\t\tTask:<h3>${t}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t`;let a=e();return a.classList.add("todo-card-details"),a.innerHTML=`\n        <div class="right-part">\n\t\t\t<div class="card-dealine">\n\t\t\t\t<strong>Deadline</strong>: ${r}\n\t\t\t</div>\n\n\t\t\t<div class="todo-delete-btn">\n\t\t\t\tDelete\n\t\t\t</div>\n\t\t</div>\n\t\t`,c.append(d,a),c},createTaskContainer:function(){let t=document.createElement("div");return t.id="tasks-container",t},createTaskAddBtn:function(){let o=e();o.id="tasks-button-panel";let c=document.createElement("button");return c.id="add-task-btn",c.textContent="Add Task",c.classList.add("action-button"),c.addEventListener("click",(()=>{!function(){let e=document.querySelector("#add-btn"),o=document.querySelector("#close-btn");r.style.display="block",t.style.display="flex",e.addEventListener("click",l),o.addEventListener("click",(()=>{n(),e.removeEventListener("click",l)}))}()})),o.append(c),o},removeTaskCreatorPopup:n,showRequiredFields:function(){let t=document.querySelector("#task-deadline-input"),e=document.querySelector("#task-title-input");e.style.backgroundColor="rgb(245, 213, 213)",e.style.outline="red solid 1px",e.style.color="red",t.style.backgroundColor="rgb(245, 213, 213)",t.style.outline="red solid 1px",t.style.color="red"}}}();function u(){let e=document.querySelectorAll(".dashboard-button"),r=document.querySelector("#tasks-btn");e.forEach((t=>{t.style.backgroundColor="whitesmoke",t.style.padding="0.5rem 2rem",t.style.color="rgb(50, 50, 50)"})),r.style.backgroundColor="white",r.style.padding="0.5rem 3rem",r.style.color="rgb(100, 175, 225)";let n=document.querySelector("#todo-display");n.textContent="",n.append(i.createTaskAddBtn());let o=i.createTaskContainer();n.append(o),t.todoArray.forEach(((t,e)=>{o.append(i.createTodoElement(t.title,t.deadline,t.check,e))})),document.querySelectorAll(".todo-card").forEach((e=>{let r=e.querySelector(".todo-checkbox");e.addEventListener("click",(n=>{let o=e.dataset.index;if("todo-delete-btn"==n.target.classList){let e=t.todoArray,r=[];e.forEach(((t,n)=>{e[n]!=e[o]&&r.push(t)})),t.todoArray=[...r],u()}else 1==r.checked?r.checked=!1:r.checked=!0,console.log(r.checked),t.todoArray[o].check!=r.checked&&(t.todoArray[o].check=r.checked)}))}))}const p=u;c(),document.querySelector("#dashboard-btn").addEventListener("click",c),document.querySelector("#projects-btn").addEventListener("click",s),document.querySelector("#tasks-btn").addEventListener("click",p)})();