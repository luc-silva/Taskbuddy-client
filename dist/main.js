(()=>{"use strict";let t=function(){let t=()=>document.createElement("div");return{createDivElement:t,createDashboard:function(){let e=t();e.id="dashboard-display";let n=t();n.id="dashboard-greetings",n.innerHTML="\n        <h2>Hello there, user</h2>\n        <p>Currently, you have...</p>";let r=t();r.id="dashboard-status-display";let c=t();c.id="dashboard-tasks-completed-display",c.innerHTML='                     \n        Tasks Completed:\n        <div class="completed-value-container">\n            <div class="completed-value">40</div>\n            <div class="total-value">of 42</div>\n        </div>';let o=t();return o.id="dashboard-projects-completed-display",o.innerHTML='\n        Project Completed:\n        <div class="completed-value-container">\n            <div class="completed-value">40</div>\n            <div class="total-value">of 42</div>\n        </div>',r.append(c,o),e.append(n,r),e}}}();let e=function(){let t=[];return{todoArray:[],projectArray:t,completedTasks:function(e){let n=t[e].projectTasks,r=0;return n.forEach((t=>{t.checked&&r++})),r},completedProjects:function(){let e=0;return t.forEach((t=>{"Completed"==t.status&&e++})),e}}}();class n{constructor(t,n,r,c){this.title=t,this.projectTasks=n,this.deadline=r,this.description=c,this.dateCreated=new Date,this.projectId=e.projectArray.length,this.status="Unfinished"}}class r{constructor(t,e,n){this.title=t,this.priority=e,this.checked=n}get checked(){return this._checked}set checked(t){this._checked=t}get title(){return this._title}set title(t){this._title=t}get priority(){return this._priority}set priority(t){this._priority=t}}class c{constructor(t,e,n,r,c){this.task=t,this.description=e,this.deadline=n,this.priority=r,this.check=c}dateCreated=new Date;get dateCreated(){return this._dateCreated}get deadline(){return this._deadline}set deadline(t){this._deadline=t}get priority(){return this._priority}set priority(t){this._priority=t}get check(){return this._check}set check(t){this._check=t}}let o=function(){let t=()=>document.createElement("div"),c=document.querySelector("#popup-background");function o(){c.style.display="none",document.querySelector("#project-creator").style.display="none",a.removeEventListener("click",k),s.removeEventListener("click",u)}c.addEventListener("click",o);let a=document.querySelector("#create-project-btn"),s=document.querySelector("#project-taskcard-btn"),i=[];function l(){document.querySelector("#project-creator").style.display="flex",c.style.display="block",document.querySelector("#project-title-input").value="",document.querySelector("#project-deadline-input").value="",document.querySelector("#already-added-tasks").textContent="",document.querySelector("#project-description-textarea").value="",document.querySelector("#project-task-card-creator-inpt").value="",i=[],s.addEventListener("click",u),a.addEventListener("click",k)}function u(){let t=document.querySelector("#project-task-card-creator-inpt").value,e=document.querySelector("#project-task-card-creator-select").value;""!=t&&""!=e&&(i.push(new r(t,e,!1)),p(i))}function p(e){let n=document.querySelector("#already-added-tasks");n.textContent="",e.forEach(((e,r)=>{let c=t();c.setAttribute("data-project-task-index",r),c.innerHTML=`\n\t\t\t<strong>${e.title}</strong>\n\t\t\t<div class="project-taskcard-container">\n\t\t\t\t<div>Priority: <strong>${e.priority}</strong></div>\n\t\t\t\t<button class="project-taskcard-delete-btn">Delete</button>\n\t\t\t</div>\n\t\t\t`,c.classList.add("already-added-taskcard"),c.addEventListener("click",(t=>{if("project-taskcard-delete-btn"==t.target.classList){let t=[],e=c.dataset.projectTaskIndex;i.forEach((n=>{n!=i[e]&&t.push(n)})),i=[...t]}p(i)})),n.append(c)}))}function k(){let t=document.querySelector("#project-title-input").value,r=document.querySelector("#project-deadline-input").value,c=document.querySelector("#project-description-textarea").value;""!=r&&""!=t&&i.length>0&&(e.projectArray.push(new n(t,[...i],r,c)),d(),o())}return{createProjectContainer:function(n,r,c,o,d,a){let s=t();s.classList.add("project-container"),s.setAttribute("data-project",d);let i=t();i.classList.add("project-name"),i.innerHTML=`Project: <strong>${n}</strong>`;let l=t();l.classList.add("project-info"),l.innerHTML=`                    \n\t\t<div>\n\t\t\tTasks completed: <strong>${e.completedTasks(d)}/${r.length}</strong>\n\t\t</div>\n\t\t<div>\n\t\t\tDeadline: <strong>${c}</strong> Status: <strong>${a}</strong>\n\t\t</div>`;let u=t();u.append(i,l);let p=t();p.classList.add("project-details"),p.innerHTML=`\n\t\t<strong>Details:</strong> \n\t\t${o}\n\t\t`;let k=t();k.classList.add("project-tasks"),k.append(((t="")=>{let e=document.createElement("strong");return e.textContent=t,e})("Tasks:"));let y=t();return y.classList.add("project-tasks-container"),r.forEach(((e,n)=>{y.append(function(e,n,r,c){let o=t();o.classList.add("project-task-card"),o.setAttribute("data-project-task-index",c);let d=t();d.classList.add("project-task-maininfo"),d.innerHTML=r?`\n\t\t\t<input type="checkbox" checked>\n\t\t\t<div>\n\t\t\t\t<strong>#1:</strong>\n\t\t\t\t<span>${e}</span>\n\t\t\t</div>\n\t\t\t`:`\n\t\t\t<input type="checkbox">\n\t\t\t<div>\n\t\t\t\t<strong>#1:</strong>\n\t\t\t\t<span>${e}</span>\n\t\t\t</div>\n\t\t\t`;let a=t();return a.classList.add("project-task-priority"),a.innerHTML=`\n\t\t<strong>Priority</strong>\n\t\t<span>${n}</span>\n\t\t`,o.append(d,a),o}(e.title,e.priority,e.checked,n))})),k.append(y),s.append(u,p,k),s},createProjectTabAddButton:function(){let e=document.createElement("button");e.id="add-project-btn",e.addEventListener("click",l),e.textContent="Add Project";let n=t();return n.id="project-button-panel",n.append(e),n},createDivElement:t}}();function d(){let t=document.querySelector("#todo-display");t.textContent="";let n=o.createProjectTabAddButton(),r=o.createDivElement();r.id="project-display",r.textContent="",e.projectArray.forEach((t=>{r.append(o.createProjectContainer(t.title,t.projectTasks,t.deadline,t.description,t.projectId,t.status))})),t.append(n,r),document.querySelectorAll(".project-container").forEach((t=>{let n=t.dataset.project;t.querySelectorAll(".project-task-card").forEach((t=>{t.addEventListener("click",(()=>{let r=t.dataset.projectTaskIndex,c=t.querySelector("input[type='checkbox']");1==c.checked?(c.checked=!1,e.projectArray[n].projectTasks[r].checked=!1):(c.checked=!0,e.projectArray[n].projectTasks[r].checked=!0),d()}))}))}))}const a=d,s=function(){let t=document.querySelector("#task-title-input"),n=document.querySelector("#task-deadline-input"),r=document.querySelector("#task-description-textarea"),o=document.querySelector("#priority-input");""!=t.value&&""!=n.value?(""==r.value?e.todoArray.push(new c(t.value,"None",n.value,o.value,!1)):e.todoArray.push(new c(t.value,r.value,n.value,o.value,!1)),i.removeTaskCreatorPopup()):i.showRequiredFields(),l(),r.value="",n.value="",t.value=""};let i=function(){let t=document.querySelector("#task-creator-screen"),e=function(){return document.createElement("div")},n=document.querySelector("#popup-background");n.addEventListener("click",(()=>{r()}));let r=function(){n.style.display="none",t.style.display="none"};return{createTodoElement:function(t,n,r,c){let o=document.createElement("span");o.classList.add("todo-card"),o.setAttribute("data-index",c);let d=e();d.classList.add("card-task"),d.innerHTML=r?`\n\t\t\t<div class="card-task-container">\n\t\t\t\t<input type="checkbox" class="todo-checkbox" checked>\n\t\t\t\n\t\t\t\t<div>\n\t\t\t\t\tTask:<h3>${t}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t`:`\n\t\t\t<div class="card-task-container">\n\t\t\t\t<input type="checkbox" class="todo-checkbox">\n\t\n\t\t\t\t<div>\n\t\t\t\t\tTask:<h3>${t}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t`;let a=e();return a.classList.add("todo-card-details"),a.innerHTML=`\n        <div class="right-part">\n\t\t\t<div class="card-dealine">\n\t\t\t\t<strong>Deadline</strong>: ${n}\n\t\t\t</div>\n\n\t\t\t<div class="todo-delete-btn">\n\t\t\t\tDelete\n\t\t\t</div>\n\t\t</div>\n\t\t`,o.append(d,a),o},createTaskContainer:function(){let t=document.createElement("div");return t.id="tasks-container",t},createTaskAddBtn:function(){let c=e();c.id="tasks-button-panel";let o=document.createElement("button");return o.id="add-task-btn",o.textContent="Add task",o.addEventListener("click",(()=>{!function(){let e=document.querySelector("#add-btn"),c=document.querySelector("#close-btn");n.style.display="block",t.style.display="flex",e.addEventListener("click",s),c.addEventListener("click",(()=>{r(),e.removeEventListener("click",s)}))}()})),c.append(o),c},removeTaskCreatorPopup:r,showRequiredFields:function(){let t=document.querySelector("#task-deadline-input"),e=document.querySelector("#task-title-input");e.style.backgroundColor="rgb(245, 213, 213)",e.style.outline="red solid 1px",e.style.color="red",t.style.backgroundColor="rgb(245, 213, 213)",t.style.outline="red solid 1px",t.style.color="red"}}}();function l(){let t=document.querySelector("#todo-display");t.textContent="",t.append(i.createTaskAddBtn());let n=i.createTaskContainer();t.append(n),e.todoArray.forEach(((t,e)=>{n.append(i.createTodoElement(t.task,t.deadline,t.check,e))})),document.querySelectorAll(".todo-card").forEach((t=>{let n=t.querySelector(".todo-checkbox");t.addEventListener("click",(r=>{let c=t.dataset.index;if("todo-delete-btn"==r.target.classList){let t=e.todoArray,n=[];t.forEach(((e,r)=>{t[r]!=t[c]&&n.push(e)})),e.todoArray=[...n],l()}else 1==n.checked?n.checked=!1:n.checked=!0,console.log(n.checked),e.todoArray[c].check!=n.checked&&(e.todoArray[c].check=n.checked)}))}))}const u=l;document.querySelector("#dashboard-btn").addEventListener("click",(function(){let e=document.querySelector("#todo-display");e.textContent="",e.append(t.createDashboard())})),document.querySelector("#projects-btn").addEventListener("click",a),document.querySelector("#tasks-btn").addEventListener("click",u)})();